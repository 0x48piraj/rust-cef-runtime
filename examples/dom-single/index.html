<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>rust-cef-runtime dom-single render demo</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #0f172a;
      overflow: hidden;
      font-family: system-ui, sans-serif;
    }

    #fps {
      position: fixed;
      top: 12px;
      left: 12px;
      font-size: 18px;
      background: rgba(0,0,0,0.5);
      padding: 6px 10px;
      border-radius: 8px;
      color: #e5e7eb;
      z-index: 10;
    }

    #box {
      width: 120px;
      height: 120px;
      background: linear-gradient(135deg, #38bdf8, #818cf8);
      border-radius: 16px;
      position: absolute;
      will-change: transform;
      box-shadow: 0 20px 40px rgba(0,0,0,0.4);
    }
  </style>
</head>
<body>
  <div id="fps">FPS: 0</div>
  <div id="box"></div>

  <script>
    const fpsEl = document.getElementById("fps");
    const box = document.getElementById("box");

    const boxSize = 120;
    let x = 100;
    let y = 100;
    let vx = 3;
    let vy = 2;

    let lastFpsTime = performance.now();
    let frames = 0;

    function animate(time) {
      frames++;

      if (time - lastFpsTime >= 1000) {
        fpsEl.textContent = `FPS: ${frames}`;
        frames = 0;
        lastFpsTime = time;
      }

      x += vx;
      y += vy;

      // bounce off edges
      if (x <= 0 || x + boxSize >= window.innerWidth) vx *= -1;
      if (y <= 0 || y + boxSize >= window.innerHeight) vy *= -1;

      box.style.transform = `translate(${x}px, ${y}px)`;

      requestAnimationFrame(animate);
    }

    requestAnimationFrame(animate);
  </script>
</body>
</html>
